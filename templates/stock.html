{% extends "layout.html" %}

{% block title %}
    Stocks
{% endblock %}

{% block main %}

    <form action="/add_item" method="get">
        <div class="text-md-end text-sm-center mb-3">
            <button class="btn btn-primary" type="submit">Add New Item</button>
        </div>
    </form>

    <form action="/stock" method="get" class="mb-2">
        <div class="row">
            <div class="col-9 col-md-auto">
                <input autocomplete="off" autofocus class="form-control" name="q" placeholder="Search Item" type="search">
            </div>
            <div class="col-3 col-md-auto">
                <button class="btn btn-info py-1 px-2" type="submit">Search</button>
            </div>
        </div>
    </form>

    <table class="table table-sm table-hover ">
        <thead>
            <tr>
                <th class="text-start">ITEM NAME</th>
                <th class="text-end">QUANTITY</th>
                <th class="text-end">COST PRICE</th>
                <th class="text-end">SELLING PRICE</th>
                <th class="text-end"></th>
            </tr>
        </thead>
        <tbody>
            {% for stock in stocks %}
                <tr class="{{ 'table-warning' if stock.quantity <= 5 else '' }}">
                    <td class="text-start">{{ stock.itemname }}</td>
                    <td class="text-end">{{ stock.quantity }}</td>
                    <td class="text-end">{{ stock.costprice }}</td>
                    <td class="text-end">{{ stock.sellingprice }}</td>
                    <td class="text-end">
                        <form action="/stock" method="post">
                            <button class="btn btn-light" type="submit" value="{{ stock.itemname }}" name="item_name"><i class="bi bi-arrow-repeat"></i></button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="h2 mt-3">
        <a href="#top"><i class="bi bi-arrow-up-circle-fill"></i></a>
    </div>


{% endblock %}
